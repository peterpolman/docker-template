/*doc
---
title: Carousel
name: carousel
category: 04_organisms
---

```html_example
<div class="panel panel-white carousel-phone" style="width: auto; position: relative; top: auto;">

    <div id="phoneCarouselBlack" class="carousel slide" data-interval="false" data-ride="carousel">
        <div class="carousel-inner">
            <div class="item active">
                <img src="../assets/images/phone-front.png" alt="First slide">
            </div>
            <div class="item">
                <img src="../assets/images/phone-back.png" alt="Second slide">
            </div>
            <div class="item">
                <img src="../assets/images/phone-side.png" alt="Third slide">
            </div>
        </div>
        <ol class="carousel-indicators">
            <li data-target="#phoneCarouselBlack" data-slide-to="0" class="active">
                <img class="thumbnail" src="../assets/images/phone-front.png" alt="First slide">
            </li>
            <li data-target="#phoneCarouselBlack" data-slide-to="1">
                <img class="thumbnail" src="../assets/images/phone-back.png" alt="Second slide">
            </li>
            <li data-target="#phoneCarouselBlack" data-slide-to="2">
                <img class="thumbnail" src="../assets/images/phone-side.png" alt="Third slide">
            </li>
        </ol>
        <a class="left carousel-control" href="#phoneCarouselBlack" role="button" data-slide="prev">
            <span class="icon-prev"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#phoneCarouselBlack" role="button" data-slide="next">
            <span class="icon-next"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>

    <div id="phoneCarouselGold" class="carousel slide hidden" data-interval="false" data-ride="carousel">
        <div class="carousel-inner">
            <div class="item active">
                <img src="../assets/images/phone-front-gold.png" alt="First slide">
            </div>
            <div class="item">
                <img src="../assets/images/phone-back-gold.png" alt="Second slide">
            </div>
            <div class="item">
                <img src="../assets/images/phone-side-gold.png" alt="Third slide">
            </div>
        </div>
        <ol class="carousel-indicators">
            <li data-target="#phoneCarouselGold" data-slide-to="0" class="active">
                <img class="thumbnail" src="../assets/images/phone-front-gold.png" alt="First slide">
            </li>
            <li data-target="#phoneCarouselGold" data-slide-to="1">
                <img class="thumbnail" src="../assets/images/phone-back-gold.png" alt="Second slide">
            </li>
            <li data-target="#phoneCarouselGold" data-slide-to="2">
                <img class="thumbnail" src="../assets/images/phone-side-gold.png" alt="Third slide">
            </li>
        </ol>
        <a class="left carousel-control" href="#phoneCarouselGold" role="button" data-slide="prev">
            <span class="icon-prev"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#phoneCarouselGold" role="button" data-slide="next">
            <span class="icon-next"></span>
            <span class="sr-only">Next</span>
        </a>

    </div>

    <ul class="carousel-color-indicators">
        <li>
            <a class="active" data-toggle="toggle" data-color="#0B0B0B" href="#phoneCarouselBlack" role="button" style="border-color: rgb(11, 11, 11); background-color: rgb(11, 11, 11);">
                black
            </a>
        </li>
        <li>
            <a data-toggle="toggle" data-color="#DAC993" href="#phoneCarouselGold" role="button" style="border-color: rgb(218, 201, 147);">
                gold
            </a>
        </li>
    </ul>

</div>
```

*/

.carousel-phone.carousel-phone-simple {
  margin-bottom: 2rem;

  &.panel-white {
    background-color: $white;
  }

  h2 {
    @media (min-width: $screen-md) {
      height: 3.5rem;
      text-align: center;
    }

    @media (min-width: $screen-lg) {
      text-align: left;
      height: auto;
    }
  }

  .label {
    position: absolute;
    top: 50%;
    left: -.5rem;
    z-index: 2;
  }

  .panel-col {
    padding:  0 .5rem;

    @media (min-width: $screen-md) {
      text-align: center;
    }

    @media (min-width: $screen-xl) {
      text-align: left;
    }
  }

  .carousel {
    img {
      width: auto;

      @media (min-width: $screen-md) {
       width: 50%
      }
      @media (min-width: $screen-xl) {
        width: 100%;
        margin: 0;
      }
    }
  }

  .carousel-color-indicators {
    text-align: left;
    margin-bottom: 1rem;

    @media (min-width: $screen-md) {
      text-align: center;
    }
    @media (min-width: $screen-xl) {
      text-align: left;
    }
  }

  .phone-price {
    font-size: $font-size-base;

    strong {
      font-size: $font-size-xxl;
    }

    small {
      font-size: $font-size-base;
    }
  }

  @media (min-width: $screen-xl) {
    .btn-primary {
      position: absolute;
      bottom: .5rem;
      width: auto;
    }
  }
}

.carousel-sim,
.carousel-phone {
  background: transparent;

  img {
    width: 50%;
    margin: 0;
  }

  @media (min-width: $screen-md) {
    background-color: $white;

    .item img {
      width: auto;
    }
  }

  .panel-links {
    padding: 1.5rem 0 0;
    margin: 0;
    text-align: left;

    .list {
      margin: 0;
    }
  }
}

// Wrapper for the slide container and indicators
.carousel {
  position: relative;
  text-align: center;
  margin: 0;
}

.carousel-inner {
  position: relative;
  overflow: hidden;
  width: 100%;

  & > .item {
    display: block;
    left: 0;
    top: 0;
    position: absolute;
    width: 100%;
    opacity: 0;
    transition: opacity $transition-speed $transition-type;

    > img,
    > a > img {
      line-height: 1;
      max-width: 100%;
      height: auto;
    }
  }

  > .active {
    z-index: 1;
    opacity: 1;
    position: relative;
  }

  > .next,
  > .prev {
    opacity: 0;
    z-index: 0;
  }

  > .active.left {
    opacity: 1;
  }
  > .active.right {
    opacity: 1;
  }

}

.carousel-color-label {
  float: left;
  padding-top: 1rem;

  & + .carousel-color-indicators {
    text-align: left;
    padding-left: 50px;
    margin-bottom: 2rem;
  }
}

.carousel-color-indicators {
  padding: 0;
  margin: 0;
  display: flex;
  align-items: center;
  justify-content: center; /* center items vertically, in this case */

  li {
    flex: 0;
    margin: 0 2px;
    list-style: none;

    &:first-child {
      margin-left: 0;
    }

    &:last-child {
      margin-right: 0;
    }

    a {
      display: block;
      width: 30px;
      height: 30px;
      background-color: $gray-dark;
      font-size: 0;
      padding: 8px 6px;

      &:before {
        content: "";
        display: block;
        width: 18px;
        height: 9px;
        background-color: transparent;
        border: 3px solid $white;
        border-top: 0;
        border-right: 0;
        transform: scale(0) rotate(-45deg);
        transition: transform $transition-speed $transition-type;
      }

      &.active {
        &:before {
          transform: scale(1) rotate(-45deg);
        }
      }
    }
  }
}

.carousel-indicators {
  position: relative;
  width: 100%;
  padding: 1rem 0;
  list-style: none;
  text-align: center;
  margin: 0;

  li {
    display: inline-flex;
    width:  50px;
    height: 50px;
    padding: 5px;
    margin: 5px;
    cursor: pointer;
    text-align: center;
    transition: border-color $transition-speed $transition-type;

    &:hover,
    &:focus {
      border-color: $gray-light;
    }

    &:first-child {
      margin-left: 0;
    }

    &:last-child {
      margin-right: 0;
    }

    img {
      width: auto;
      height: 100%;
      display: none;
      margin: auto;
    }

    &:before {
      content: '';
      display: block;
      width: 15px;
      height: 15px;
      margin: auto;
      background-color: $white;
      border-radius: 50%;
      border: 2px solid $gray-light;
    }


    @media (min-width: $screen-md) {
      border-radius: 0;
      background-color: $white;
      border: 2px solid $carousel-indicator-border-color;

      img {
        display: block;
      }

      &:before {
        display: none;
      }
    }

  }

  .active {

    &:hover,
    &:focus {
      border-color: $brand-primary;
    }

    &:before {
      background-color: $brand-primary;
      border-color: $brand-primary;
    }

    @media (min-width: $screen-md) {
      border-color: $brand-primary;
      background-color: $white;
    }
  }
}


.carousel-control {
  display: block; // @TODO QUICKFIX
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  width: 50px;
  color: $carousel-control-color;
  text-align: center;
  text-shadow: $carousel-text-shadow;
  background-color: rgba(0, 0, 0, 0); // Fix IE9 click-thru bug
  z-index: 1;
  height: calc(100% - 95px);
  // We can't have this transition here because WebKit cancels the carousel
  // animation if you trip this while in the middle of another animation.

  @media (min-width: $screen-md) {
    display: none;
  }


  // Hover/focus state
  &:hover,
  &:focus {
    outline: 0;
    color: $carousel-control-color;
    text-decoration: none;
    opacity: .9;
  }

  .icon-prev,
  .icon-next {
    display: flex;
    align-items: center;
    position: absolute;
    top: 50%;
    margin-top: -10px;
    z-index: 5;
    width:  40px;
    height: 40px;
    line-height: 1;
    font-family: serif;
    justify-content: center;
    width: 100%;

    &:before {
      content: '';
      font-size: 0;
      display: block;
      width: 10px;
      height: 10px;
      border: 3px solid $black;
      border-left: 0;
      border-top: 0;
      transform: rotate(135deg);
    }
  }


  &.right {
    left: auto;
    right: 0;
  }

  .icon-next:before {
    transform: rotate(-45deg);
  }

}
